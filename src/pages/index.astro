---
import Base from '../layouts/Base.astro';
import { getCollection } from 'astro:content';

// Get recent content from each domain
const music = await getCollection('music', ({ data }) => !data.draft);
const art = await getCollection('art', ({ data }) => !data.draft);
const writing = await getCollection('writing', ({ data }) => !data.draft);
const ideas = await getCollection('ideas', ({ data }) => !data.draft);

// Sort by date, get most recent
const recentWriting = writing.sort((a, b) => 
  (b.data.date?.getTime() || 0) - (a.data.date?.getTime() || 0)
).slice(0, 3);
---

<Base title="Home">
  <section class="hero">
    <div class="hero-content">
      <div class="now-listening">
        <span class="bars">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </span>
        <span>Boards of Canada ‚Äî Dayvan Cowboy</span>
      </div>
      <h1>Building bridges between <em>minds</em> and <em>systems</em></h1>
      <p class="hero-subtitle">Founder, researcher, musician. Exploring how spatial cognition, relational thinking, and human memory can reshape the way we learn, build, and connect.</p>
      <div class="hero-links">
        <a href="/ideas" class="btn btn-primary">Read my ideas ‚Üí</a>
        <a href="/work" class="btn btn-secondary">See my work</a>
      </div>
    </div>
    
    <div class="hero-visual">
      <div class="mind-map">
        <svg class="connections" viewBox="0 0 520 520">
  <line x1="260" y1="260" x2="260" y2="30" />
  <line x1="260" y1="260" x2="445" y2="90" />
  <line x1="260" y1="260" x2="490" y2="260" />
  <line x1="260" y1="260" x2="445" y2="430" />
  <line x1="260" y1="260" x2="260" y2="490" />
  <line x1="260" y1="260" x2="75" y2="430" />
  <line x1="260" y1="260" x2="30" y2="260" />
  <line x1="260" y1="260" x2="75" y2="90" />
</svg>
        
        <div class="portrait-container">
          <div class="portrait">
           <img src="/images/sam.jpg" alt="Sam Mathews Chase" />
          </div>
        </div>
        
        <a href="/music" class="node node-music">
  <div class="node-dot">‚ô™</div>
  <span class="node-label">Music</span>
</a>

<a href="/portfolio" class="node node-portfolio">
  <div class="node-dot">‚óà</div>
  <span class="node-label">Portfolio</span>
</a>

<a href="/ideating" class="node node-ideating">
  <div class="node-dot">‚ú¶</div>
  <span class="node-label">Ideating</span>
</a>

<a href="/press" class="node node-press">
  <div class="node-dot">‚óâ</div>
  <span class="node-label">Press</span>
</a>

<a href="/speaking" class="node node-speaking">
  <div class="node-dot">‚ñ£</div>
  <span class="node-label">Speaking</span>
</a>

<a href="/stan" class="node node-stan">
  <div class="node-dot">‚ô•</div>
  <span class="node-label">Stan</span>
</a>

<a href="/memes" class="node node-memes">
  <div class="node-dot">üóë</div>
  <span class="node-label">Meme Dumpster</span>
</a>

<a href="/music" class="node node-music">
  <div class="node-dot">‚ô™</div>
  <span class="node-label">Music</span>
</a>

<a href="#subscribe" class="node node-subscribe">
  <div class="node-dot">‚úâ</div>
  <span class="node-label">Subscribe</span>
</a>

      </div>
    </div>
  </section>
  
  <section class="current">
    <div class="section-label">What I'm thinking about now</div>
    <div class="current-grid">
      <div class="current-card">
        <h3>Writing</h3>
        <p>Working on <em>What Gets Dropped</em>‚Äîa book about how compression systems eliminate relational information.</p>
        <span class="tag">In progress</span>
      </div>
      <div class="current-card">
        <h3>Building</h3>
        <p>Developing spatial training systems at <em>LOCI</em> that use method of loci for industrial safety.</p>
        <span class="tag">Active</span>
      </div>
      <div class="current-card">
        <h3>Exploring</h3>
        <p>How verb-heavy languages and <em>animate grammar</em> might shape AI consciousness differently.</p>
        <span class="tag">Research</span>
      </div>
    </div>
  </section>
  
  <section class="work">
    <div class="section-label">Domains</div>
    <div class="work-grid">
      <a href="/music" class="work-card music">
        <div class="work-card-icon">‚ô™</div>
        <h3>Music</h3>
        <p>As Blondtron, I've produced electronic music, played festivals across North America, and scored for film and games. Writing songs since age 5.</p>
        <div class="work-card-meta">Albums, performances, playlists ‚Üí</div>
      </a>
      <a href="/art" class="work-card art">
        <div class="work-card-icon">‚óê</div>
        <h3>Art</h3>
        <p>Installations, pieces, and creative works that exist for their own sake. Explorations at the intersection of space, perception, and meaning.</p>
        <div class="work-card-meta">Installations, pieces, exhibitions ‚Üí</div>
      </a>
      <a href="/research" class="work-card research">
        <div class="work-card-icon">‚óé</div>
        <h3>Research</h3>
        <p>Collaborating with UCL's Human Memory and Navigation Lab on spatial cognition, method of loci, and learning science.</p>
        <div class="work-card-meta">Papers, talks, panels ‚Üí</div>
      </a>
      <a href="/building" class="work-card building">
        <div class="work-card-icon">‚¨°</div>
        <h3>Building</h3>
        <p>Founder of LOCI, creating spatial training systems that have reached millions‚Äîfrom COVID safety games to VR environments.</p>
        <div class="work-card-meta">Companies, products, investments ‚Üí</div>
      </a>
      <a href="/writing" class="work-card writing">
        <div class="work-card-icon">‚úé</div>
        <h3>Writing</h3>
        <p>Essays on consciousness, AI alignment, relational knowledge. Train of Thought blog, Hackaday, the LOCI podcast.</p>
        <div class="work-card-meta">Blog, book, podcast ‚Üí</div>
      </a>
      <a href="/ideas" class="work-card ideas">
        <div class="work-card-icon">‚ú¶</div>
        <h3>Ideas</h3>
        <p>Frameworks and theories I'm developing. The Five Hundred Year Rule, animate grammar for AI, what gets dropped.</p>
        <div class="work-card-meta">Frameworks, theories, connections ‚Üí</div>
      </a>
      <a href="/stan" class="work-card stan">
        <div class="work-card-icon">‚ô•</div>
        <h3>Stan</h3>
        <p>People, places, and ideas I'm ride-or-die for. The thinkers, artists, and weird corners of culture that shaped how I see the world.</p>
        <div class="work-card-meta">Influences, recommendations, obsessions ‚Üí</div>
      </a>
      <a href="/memes" class="work-card memes">
        <div class="work-card-icon">üóë</div>
        <h3>Meme Dumpster</h3>
        <p>The chaotic corner. Screenshots, absurdities, things that made me laugh. The part of my brain that isn't trying to be impressive.</p>
        <div class="work-card-meta">Chaos, joy, questionable taste ‚Üí</div>
      </a>
    </div>
  </section>
  
  <section class="ideas-preview">
    <div class="section-label">Featured ideas</div>
    <div class="ideas-content">
      <div class="ideas-main">
        <h2>What happens when we <em>compress</em> relational knowledge?</h2>
        <p>From AI training data to institutional memory, from population genetics to Indigenous language loss‚Äîthe same pattern emerges. When we optimize for efficiency, we lose the relationships that make knowledge meaningful.</p>
        <a href="/ideas" class="btn btn-secondary">Explore the full thesis ‚Üí</a>
      </div>
      <ul class="ideas-list">
        <li>
          <a href="/ideas/five-hundred-year-rule">
            <span>The Five Hundred Year Rule</span>
            <span class="arrow">‚Üí</span>
          </a>
        </li>
        <li>
          <a href="/ideas/animate-grammar-ai">
            <span>Animate Grammar for AI</span>
            <span class="arrow">‚Üí</span>
          </a>
        </li>
        <li>
          <a href="/ideas/brains-bff">
            <span>Your Brain's BFF</span>
            <span class="arrow">‚Üí</span>
          </a>
        </li>
        <li>
          <a href="/ideas/persistence-paradox">
            <span>The Persistence Paradox</span>
            <span class="arrow">‚Üí</span>
          </a>
        </li>
      </ul>
    </div>
  </section>
  
<section class="newsletter" id="subscribe">
    <h2>Don't lose your train of thought</h2>
    <p>Occasional essays on spatial cognition, relational AI, consciousness, and the patterns that connect them.</p>
    <form class="newsletter-form" action="/api/subscribe" method="POST">
      <input type="email" name="email" placeholder="your@email.com" required>
      <button type="submit">Subscribe</button>
    </form>
  </section>
</Base>

<style>
  /* Hero Section */
  .hero {
    min-height: 100vh;
    display: grid;
    grid-template-columns: 1fr 1.2fr;
    gap: 3rem;
    padding: 7rem 5rem 4rem;
    align-items: center;
    position: relative;
  }
  
  .hero::before {
    content: '';
    position: absolute;
    top: 20%;
    right: 15%;
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, var(--ember) 0%, transparent 70%);
    opacity: 0.06;
    pointer-events: none;
  }
  
  .hero-content {
    max-width: 520px;
    position: relative;
    z-index: 2;
  }
  
  .hero h1 {
    font-size: 3.2rem;
    margin-bottom: 1.5rem;
  }
  
  .hero-subtitle {
    font-size: 1.05rem;
    font-weight: 300;
    color: var(--sand);
    margin-bottom: 2.5rem;
    max-width: 440px;
    line-height: 1.8;
  }
  
  .now-listening {
    display: inline-flex;
    align-items: center;
    gap: 0.65rem;
    padding: 0.5rem 0.9rem 0.5rem 0.65rem;
    background: var(--night);
    border-radius: 100px;
    font-size: 0.75rem;
    color: var(--stone);
    border: 1px solid var(--wood);
    margin-bottom: 2rem;
  }
  
  .bars {
    display: flex;
    align-items: flex-end;
    gap: 2px;
    height: 12px;
  }
  
  .bar {
    width: 2px;
    background: var(--moss-light);
    border-radius: 1px;
    animation: soundbar 0.8s ease infinite;
  }
  
  .bar:nth-child(1) { height: 40%; animation-delay: 0s; }
  .bar:nth-child(2) { height: 80%; animation-delay: 0.2s; }
  .bar:nth-child(3) { height: 60%; animation-delay: 0.4s; }
  .bar:nth-child(4) { height: 90%; animation-delay: 0.1s; }
  
  @keyframes soundbar {
    0%, 100% { transform: scaleY(1); }
    50% { transform: scaleY(0.5); }
  }
  
  .hero-links {
    display: flex;
    gap: 1rem;
  }
  
  /* Mind Map Visual */
  .hero-visual {
    position: relative;
    height: 580px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .mind-map {
    position: relative;
    width: 520px;
    height: 520px;
  }
  
  .connections {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }
  
  .connections line {
    stroke: var(--bark);
    stroke-width: 1;
    stroke-dasharray: 4 4;
    opacity: 0.5;
  }
  
  .portrait-container {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 140px;
    height: 140px;
    border-radius: 50%;
    background: conic-gradient(
      from 0deg,
      var(--ember) 0deg,
      var(--moss) 45deg,
      var(--honey) 90deg,
      var(--sand) 135deg,
      var(--stone) 180deg,
      var(--violet) 225deg,
      var(--chaos) 270deg,
      var(--azure) 315deg,
      var(--ember) 360deg
    );
    padding: 3px;
    box-shadow: 
      0 0 60px rgba(224, 120, 80, 0.12),
      0 0 120px rgba(212, 160, 60, 0.08);
    animation: slowRotate 30s linear infinite;
  }
  
  @keyframes slowRotate {
    from { transform: translate(-50%, -50%) rotate(0deg); }
    to { transform: translate(-50%, -50%) rotate(360deg); }
  }
  
  .portrait {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: var(--night);
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
    animation: counterRotate 30s linear infinite;
  }
  
  @keyframes counterRotate {
    from { transform: rotate(0deg); }
    to { transform: rotate(-360deg); }
  }
  
  .portrait img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .portrait-placeholder {
    font-size: 0.65rem;
    color: var(--stone);
    text-transform: uppercase;
    letter-spacing: 0.1em;
  }
  
  /* Nodes */
  .node {
    position: absolute;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.35rem;
    transition: transform 0.3s ease;
    cursor: pointer;
    text-decoration: none;
  }
  
  .node:hover {
    transform: scale(1.1);
  }
  
  .node-dot {
    width: 44px;
    height: 44px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1rem;
    transition: box-shadow 0.3s ease;
    color: var(--deep);
  }
  
  .node:hover .node-dot {
    box-shadow: 0 4px 24px rgba(0,0,0,0.4);
  }
  
  .node-label {
    font-size: 0.65rem;
    font-weight: 500;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    color: var(--sand);
  }
  
  .node:hover .node-label {
    color: var(--cream);
  }
  
/* Node positions - 7 nodes arranged in a circle */
.node-music { top: 0%; left: 50%; transform: translateX(-50%); }
.node-music .node-dot { background: linear-gradient(135deg, var(--ember) 0%, var(--ember-glow) 100%); }

.node-portfolio { top: 10%; right: 5%; }
.node-portfolio .node-dot { background: linear-gradient(135deg, var(--azure) 0%, var(--azure-light) 100%); }

.node-ideating { top: 40%; right: -5%; }
.node-ideating .node-dot { background: linear-gradient(135deg, var(--honey) 0%, var(--honey-light) 100%); }

.node-press { bottom: 10%; right: 10%; }
.node-press .node-dot { background: linear-gradient(135deg, var(--moss) 0%, var(--moss-light) 100%); }

.node-speaking { bottom: 0%; left: 50%; transform: translateX(-50%); }
.node-speaking .node-dot { background: linear-gradient(135deg, var(--stone) 0%, var(--sand) 100%); }

.node-stan { bottom: 10%; left: 10%; }
.node-stan .node-dot { background: linear-gradient(135deg, var(--violet) 0%, var(--violet-light) 100%); }

.node-memes { top: 40%; left: -5%; }
.node-memes .node-dot { background: linear-gradient(135deg, var(--chaos) 0%, var(--chaos-light) 100%); }

.node-subscribe { top: 10%; left: 5%; }
.node-subscribe .node-dot { background: linear-gradient(135deg, var(--ember) 0%, var(--honey) 100%); }
  
  /* Current Section */
  .current {
    padding: 5rem;
    background: var(--night);
    border-top: 1px solid var(--wood);
  }
  
  .current-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 2rem;
  }
  
  .current-card {
    padding: 1.75rem;
    background: var(--deep);
    border: 1px solid var(--wood);
    border-radius: 4px;
    transition: border-color 0.3s ease, transform 0.3s ease;
  }
  
  .current-card:hover {
    border-color: var(--bark);
    transform: translateY(-3px);
  }
  
  .current-card h3 {
    font-family: var(--font-body);
    font-size: 0.65rem;
    font-weight: 500;
    color: var(--stone);
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.12em;
  }
  
  .current-card p {
    font-family: var(--font-display);
    font-size: 1.2rem;
    line-height: 1.5;
    color: var(--cream);
    font-weight: 300;
    margin-bottom: 0;
  }
  
  /* Work Section */
  .work {
    padding: 5rem;
    background: var(--deep);
  }
  
  .work-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1.25rem;
  }
  
  .work-card {
    position: relative;
    padding: 2rem;
    background: var(--night);
    border: 1px solid var(--wood);
    border-radius: 4px;
    overflow: hidden;
    transition: all 0.4s ease;
    text-decoration: none;
    color: inherit;
    display: block;
  }
  
  .work-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 3px;
    height: 0;
    transition: height 0.4s ease;
  }
  
  .work-card:hover::before {
    height: 100%;
  }
  
  .work-card:hover {
    transform: translateY(-3px);
    border-color: var(--bark);
    box-shadow: 0 16px 50px rgba(0,0,0,0.3);
  }
  
  .work-card.music::before { background: var(--ember); }
  .work-card.art::before { background: var(--azure); }
  .work-card.research::before { background: var(--moss); }
  .work-card.building::before { background: var(--honey); }
  .work-card.writing::before { background: var(--sand); }
  .work-card.ideas::before { background: #8B7355; }
  .work-card.stan::before { background: var(--violet); }
  .work-card.memes::before { background: var(--chaos); }
  
  .work-card-icon {
    width: 36px;
    height: 36px;
    margin-bottom: 1.25rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
    font-size: 0.9rem;
  }
  
  .work-card.music .work-card-icon { background: linear-gradient(135deg, var(--ember) 0%, var(--ember-glow) 100%); }
  .work-card.art .work-card-icon { background: linear-gradient(135deg, var(--azure) 0%, var(--azure-light) 100%); }
  .work-card.research .work-card-icon { background: linear-gradient(135deg, var(--moss) 0%, var(--moss-light) 100%); }
  .work-card.building .work-card-icon { background: linear-gradient(135deg, var(--honey) 0%, var(--honey-light) 100%); }
  .work-card.writing .work-card-icon { background: linear-gradient(135deg, var(--stone) 0%, var(--sand) 100%); }
  .work-card.ideas .work-card-icon { background: linear-gradient(135deg, #8B7355 0%, #A69078 100%); }
  .work-card.stan .work-card-icon { background: linear-gradient(135deg, var(--violet) 0%, var(--violet-light) 100%); }
  .work-card.memes .work-card-icon { background: linear-gradient(135deg, var(--chaos) 0%, var(--chaos-light) 100%); }
  
  .work-card h3 {
    font-size: 1.5rem;
    margin-bottom: 0.6rem;
  }
  
  .work-card p {
    color: var(--sand);
    font-size: 0.9rem;
    line-height: 1.65;
    font-weight: 300;
    margin-bottom: 0;
  }
  
  .work-card-meta {
    margin-top: 1.25rem;
    padding-top: 1rem;
    border-top: 1px solid var(--wood);
    font-size: 0.75rem;
    color: var(--stone);
  }
  
  .work-card:hover .work-card-meta {
    color: var(--sand);
  }
  
  /* Ideas Preview */
  .ideas-preview {
    padding: 5rem;
    background: linear-gradient(180deg, var(--night) 0%, var(--deep) 100%);
    position: relative;
    overflow: hidden;
  }
  
  .ideas-preview::before {
    content: '';
    position: absolute;
    top: -30%;
    right: -10%;
    width: 500px;
    height: 500px;
    background: radial-gradient(circle, var(--ember) 0%, transparent 65%);
    opacity: 0.04;
    pointer-events: none;
  }
  
  .ideas-content {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 4rem;
    position: relative;
    z-index: 1;
  }
  
  .ideas-main h2 {
    margin-bottom: 1.25rem;
  }
  
  .ideas-main p {
    font-size: 1rem;
    line-height: 1.8;
    color: var(--sand);
    margin-bottom: 2rem;
    font-weight: 300;
  }
  
  .ideas-list {
    list-style: none;
  }
  
  .ideas-list li {
    border-bottom: 1px solid var(--wood);
  }
  
  .ideas-list li a {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 1.1rem 0;
    text-decoration: none;
    transition: padding-left 0.3s ease;
  }
  
  .ideas-list li a:hover {
    padding-left: 0.75rem;
  }
  
  .ideas-list li span {
    font-family: var(--font-display);
    font-size: 1.15rem;
    color: var(--bone);
  }
  
  .ideas-list li .arrow {
    opacity: 0;
    transition: opacity 0.3s ease, transform 0.3s ease;
    color: var(--ember);
  }
  
  .ideas-list li a:hover .arrow {
    opacity: 1;
    transform: translateX(4px);
  }
  
  /* Newsletter */
  .newsletter {
    padding: 5rem;
    background: var(--deep);
    text-align: center;
    border-top: 1px solid var(--wood);
  }
  
  .newsletter h2 {
    font-size: 1.8rem;
    margin-bottom: 0.75rem;
  }
  
  .newsletter p {
    color: var(--sand);
    max-width: 440px;
    margin: 0 auto 2rem;
    font-size: 0.95rem;
    font-weight: 300;
  }
  
  .newsletter-form {
    display: flex;
    gap: 0.6rem;
    max-width: 380px;
    margin: 0 auto;
  }
  
  .newsletter-form input {
    flex: 1;
    padding: 0.85rem 1.1rem;
    font-family: var(--font-body);
    font-size: 0.9rem;
    border: 1px solid var(--wood);
    border-radius: 3px;
    background: var(--night);
    color: var(--cream);
  }
  
  .newsletter-form input::placeholder {
    color: var(--stone);
  }
  
  .newsletter-form input:focus {
    outline: none;
    border-color: var(--ember);
  }
  
  .newsletter-form button {
    padding: 0.85rem 1.3rem;
    font-family: var(--font-body);
    font-size: 0.85rem;
    background: var(--ember);
    color: var(--deep);
    border: none;
    border-radius: 3px;
    cursor: pointer;
    transition: background 0.3s ease;
    font-weight: 500;
  }
  
  .newsletter-form button:hover {
    background: var(--ember-glow);
  }
  
  /* Responsive */
  @media (max-width: 1100px) {
    .hero {
      grid-template-columns: 1fr;
      padding: 5rem 2.5rem 3rem;
    }
    
    .hero-content {
      max-width: 100%;
      text-align: center;
    }
    
    .hero-links {
      justify-content: center;
    }
    
    .hero-visual {
      height: 420px;
    }
    
    .mind-map {
      width: 380px;
      height: 380px;
    }
    
    .portrait-container {
      width: 100px;
      height: 100px;
    }
    
    .node-dot {
      width: 36px;
      height: 36px;
      font-size: 0.85rem;
    }
    
    .current-grid, .work-grid {
      grid-template-columns: 1fr;
    }
    
    .ideas-content {
      grid-template-columns: 1fr;
      gap: 2.5rem;
    }
  }
  
  @media (max-width: 768px) {
    .hero {
      padding: 4.5rem 1.5rem 2rem;
    }
    
    .hero h1 {
      font-size: 2.4rem;
    }
    
    .current, .work, .ideas-preview, .newsletter {
      padding: 3rem 1.5rem;
    }
    
    .newsletter-form {
      flex-direction: column;
    }
    
    .hero-visual {
      height: 340px;
    }
    
    .mind-map {
      width: 300px;
      height: 300px;
    }
    
    .node-label {
      font-size: 0.55rem;
    }
    
    .node-dot {
      width: 32px;
      height: 32px;
      font-size: 0.75rem;
    }
  }
</style>
